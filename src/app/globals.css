@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 224 71.4% 4.1%;
    --card: 0 0% 100%;
    --card-foreground: 224 71.4% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71.4% 4.1%;
    --primary: 220.9 39.3% 11%;
    --primary-foreground: 210 20% 98%;
    --secondary: 220 14.3% 95.9%;
    --secondary-foreground: 220.9 39.3% 11%;
    --muted: 220 14.3% 95.9%;
    --muted-foreground: 220 8.9% 46.1%;
    --accent: 220 14.3% 95.9%;
    --accent-foreground: 220.9 39.3% 11%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 20% 98%;
    --success: 142 76% 36%;
    --success-foreground: 210 20% 98%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 224 71.4% 4.1%;
    --radius: 0.75rem;
    
    /* Sidebar */
    --sidebar: 0 0% 98%;
    --sidebar-foreground: 224 71.4% 4.1%;
    --sidebar-accent: 220 14.3% 95.9%;
    --sidebar-accent-foreground: 220.9 39.3% 11%;
    --sidebar-border: 220 13% 91%;
  }

  .dark {
    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;
    --card: 224 71.4% 6%;
    --card-foreground: 210 20% 98%;
    --popover: 224 71.4% 6%;
    --popover-foreground: 210 20% 98%;
    --primary: 210 100% 52%;
    --primary-foreground: 220.9 39.3% 11%;
    --secondary: 215 27.9% 16.9%;
    --secondary-foreground: 210 20% 98%;
    --muted: 215 27.9% 16.9%;
    --muted-foreground: 217.9 10.6% 64.9%;
    --accent: 215 27.9% 16.9%;
    --accent-foreground: 210 20% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 98%;
    --success: 142 69% 58%;
    --success-foreground: 0 0% 0%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;
    --border: 215 27.9% 16.9%;
    --input: 215 27.9% 16.9%;
    --ring: 216 12.2% 83.9%;
    
    /* Sidebar Dark */
    --sidebar: 222 47% 6%;
    --sidebar-foreground: 210 20% 98%;
    --sidebar-accent: 215 27.9% 12%;
    --sidebar-accent-foreground: 210 20% 98%;
    --sidebar-border: 215 27.9% 14%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Scroll suave */
  html {
    scroll-behavior: smooth;
  }

  /* Estilização da scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/20 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/40;
  }
}

@layer components {
  /* Estilos para conteúdo Markdown - Modo Claro */
  .prose-course {
    @apply prose prose-slate max-w-none;
    @apply prose-headings:scroll-mt-20;
    @apply prose-a:text-primary prose-a:no-underline hover:prose-a:underline;
    @apply prose-strong:text-foreground;
    @apply prose-code:text-primary prose-code:font-semibold;
    @apply prose-pre:bg-muted prose-pre:border prose-pre:border-border;
    @apply prose-blockquote:border-l-primary prose-blockquote:text-muted-foreground;
    @apply prose-hr:border-border;
    @apply prose-th:border-border prose-td:border-border;
  }

  /* Estilos para conteúdo Markdown - Modo Escuro */
  .dark .prose-course {
    @apply prose-invert;
    @apply prose-headings:text-foreground;
    @apply prose-p:text-muted-foreground;
    @apply prose-strong:text-foreground;
    @apply prose-code:text-primary;
    @apply prose-pre:bg-[hsl(222,47%,8%)] prose-pre:border-border;
    @apply prose-blockquote:border-l-primary prose-blockquote:text-muted-foreground;
  }

  .prose-course h1 {
    @apply text-3xl font-bold mb-6 pb-3 border-b border-border;
  }

  .prose-course h2 {
    @apply text-2xl font-semibold mt-10 mb-4 text-primary;
  }

  .prose-course h3 {
    @apply text-xl font-medium mt-6 mb-3;
  }

  .prose-course p {
    @apply mb-4 leading-relaxed;
  }

  .prose-course ul,
  .prose-course ol {
    @apply mb-4 pl-6;
  }

  .prose-course li {
    @apply mb-2;
  }

  .prose-course pre {
    @apply p-4 rounded-lg overflow-x-auto mb-4 text-sm;
  }

  .prose-course code {
    @apply bg-muted px-1.5 py-0.5 rounded text-sm font-mono;
  }

  .prose-course pre code {
    @apply bg-transparent p-0;
  }

  .prose-course blockquote {
    @apply border-l-4 border-primary pl-4 italic my-4;
  }

  .prose-course a {
    @apply text-primary hover:underline;
  }

  .prose-course img {
    @apply rounded-lg shadow-md my-6;
  }

  .prose-course table {
    @apply w-full border-collapse mb-4;
  }

  .prose-course th,
  .prose-course td {
    @apply border border-border px-4 py-2;
  }

  .prose-course th {
    @apply bg-muted font-semibold;
  }
}

@layer utilities {
  /* Animações customizadas */
  .animate-in {
    animation: animate-in 0.3s ease-out;
  }

  @keyframes animate-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Gradientes */
  .gradient-primary {
    @apply bg-gradient-to-r from-primary to-primary/80;
  }

  .gradient-success {
    @apply bg-gradient-to-r from-success to-success/80;
  }

  /* Glassmorphism */
  .glass {
    @apply bg-background/80 backdrop-blur-md;
  }
}

/* ======================================
   Syntax Highlighting - Tema Claro (GitHub)
   ====================================== */
.hljs {
  color: #24292e;
  background: transparent;
}

.hljs-doctag,
.hljs-keyword,
.hljs-meta .hljs-keyword,
.hljs-template-tag,
.hljs-template-variable,
.hljs-type,
.hljs-variable.language_ {
  color: #d73a49;
}

.hljs-title,
.hljs-title.class_,
.hljs-title.class_.inherited__,
.hljs-title.function_ {
  color: #6f42c1;
}

.hljs-attr,
.hljs-attribute,
.hljs-literal,
.hljs-meta,
.hljs-number,
.hljs-operator,
.hljs-selector-attr,
.hljs-selector-class,
.hljs-selector-id,
.hljs-variable {
  color: #005cc5;
}

.hljs-meta .hljs-string,
.hljs-regexp,
.hljs-string {
  color: #032f62;
}

.hljs-built_in,
.hljs-symbol {
  color: #e36209;
}

.hljs-code,
.hljs-comment,
.hljs-formula {
  color: #6a737d;
}

.hljs-name,
.hljs-quote,
.hljs-selector-pseudo,
.hljs-selector-tag {
  color: #22863a;
}

.hljs-subst {
  color: #24292e;
}

.hljs-section {
  color: #005cc5;
  font-weight: bold;
}

.hljs-bullet {
  color: #735c0f;
}

.hljs-emphasis {
  color: #24292e;
  font-style: italic;
}

.hljs-strong {
  color: #24292e;
  font-weight: bold;
}

.hljs-addition {
  color: #22863a;
  background-color: #f0fff4;
}

.hljs-deletion {
  color: #b31d28;
  background-color: #ffeef0;
}

/* ======================================
   Syntax Highlighting - Tema Escuro (GitHub Dark)
   ====================================== */
.dark .hljs {
  color: #c9d1d9;
  background: transparent;
}

.dark .hljs-doctag,
.dark .hljs-keyword,
.dark .hljs-meta .hljs-keyword,
.dark .hljs-template-tag,
.dark .hljs-template-variable,
.dark .hljs-type,
.dark .hljs-variable.language_ {
  color: #ff7b72;
}

.dark .hljs-title,
.dark .hljs-title.class_,
.dark .hljs-title.class_.inherited__,
.dark .hljs-title.function_ {
  color: #d2a8ff;
}

.dark .hljs-attr,
.dark .hljs-attribute,
.dark .hljs-literal,
.dark .hljs-meta,
.dark .hljs-number,
.dark .hljs-operator,
.dark .hljs-selector-attr,
.dark .hljs-selector-class,
.dark .hljs-selector-id,
.dark .hljs-variable {
  color: #79c0ff;
}

.dark .hljs-meta .hljs-string,
.dark .hljs-regexp,
.dark .hljs-string {
  color: #a5d6ff;
}

.dark .hljs-built_in,
.dark .hljs-symbol {
  color: #ffa657;
}

.dark .hljs-code,
.dark .hljs-comment,
.dark .hljs-formula {
  color: #8b949e;
}

.dark .hljs-name,
.dark .hljs-quote,
.dark .hljs-selector-pseudo,
.dark .hljs-selector-tag {
  color: #7ee787;
}

.dark .hljs-subst {
  color: #c9d1d9;
}

.dark .hljs-section {
  color: #79c0ff;
  font-weight: bold;
}

.dark .hljs-bullet {
  color: #f2cc60;
}

.dark .hljs-emphasis {
  color: #c9d1d9;
  font-style: italic;
}

.dark .hljs-strong {
  color: #c9d1d9;
  font-weight: bold;
}

.dark .hljs-addition {
  color: #aff5b4;
  background-color: #033a16;
}

.dark .hljs-deletion {
  color: #ffdcd7;
  background-color: #67060c;
}
